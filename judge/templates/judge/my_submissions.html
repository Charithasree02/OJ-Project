{% extends "base.html" %}
{% block content %}
<h2 style="margin-bottom: 20px;">My Submissions</h2>

{% if submissions %}
  <table style="width: 100%; border-collapse: collapse;">
    <thead>
      <tr style="background-color: #f2f2f2;">
        <th style="padding: 10px; text-align: left;">Problem</th>
        <th style="padding: 10px; text-align: left;">Language</th>
        <th style="padding: 10px; text-align: left;">Code</th>
        <th style="padding: 10px; text-align: left;">Submitted At</th>
      </tr>
    </thead>
    <tbody>
      {% for submission in submissions %}
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 10px;">{{ submission.problem.title }}</td>
        <td style="padding: 10px;">{{ submission.language }}</td>
        <td style="padding: 10px;">
          <details>
            <summary style="cursor: pointer;">View Code</summary>
            <pre style="background: #f8f8f8; padding: 10px; border-radius: 5px; white-space: pre-wrap;">{{ submission.code }}</pre>
          </details>
        </td>
        <td style="padding: 10px;">{{ submission.submitted_at|date:"Y-m-d H:i" }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% else %}
  <p>You haven't submitted anything yet.</p>
{% endif %}
{% endblock %}
